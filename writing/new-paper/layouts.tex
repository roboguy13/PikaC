\subsection{Layouts}
\label{sec:layouts}

A \textit{layout} is a mapping from algebraic data type values to separation logic assertions. This is achieved by a special kind of function definition that pattern matches on the algebraic data type and produces SSL assertions. This function can be recursive and it can be mutually recursive with other layouts. We have seen the \verb|Sll| layout so far (Fig.~\ref{fig:List-def}), which is a layout for linked lists. In particular, it maps values of the \verb|List| type to SSL assertions representing a singly-linked list.

These functions should be injective, as the translator should be able to distinguish between the different constructors of the algebraic data type value exclusively using the SSL assertions. This injectivity requirement is not enforced by the compiler. Also, the choice of arrow in the layout type declaration syntax \lstinline[language=Pika]{L : T >-> layout[x]} is motivated by this requirement, since this kind of double-headed arrow is traditionally used for injective functions.

This construct is at the heart of the connection between SSL and \Pika, providing a bridge between the algebraic data types of a functional programming language and the heap states of an imperative language as seen through the lens of separation logic.

