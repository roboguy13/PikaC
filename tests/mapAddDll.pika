%generate mapAdd1Dll

Sll : layout[-x](List);
Sll Nil := emp;
Sll (Cons head tail) :=
  exists +nxt.
  x :-> head **
  (x+1) :-> nxt **
  Sll tail [nxt];

Dll : layout[-x, +z](List);
Dll Nil := emp;
Dll (Cons head tail) :=
  exists +w.
  x :-> head **
  (x+1) :-> w **
  (x+2) :-> z **
  Dll tail [w] [x];

mapAdd : Int -> Sll -> Sll;
mapAdd n Nil := Nil [Sll];
mapAdd n (Cons a as) := Cons (a + n) (mapAdd n as) [Sll];

-- Once this Add 1 works change to N :-)

mapAdd1Dll : Dll -> Dll;
mapAdd1Dll Nil := Nil [Dll];
mapAdd1Dll (Cons h t) :=
  Cons (h + 1) (mapAdd1Dll t) [Dll];