%specialize map plus

Sll : layout[-x](List);
Sll Nil := emp;
Sll (Cons head tail) :=
  exists +nxt.
  x :-> head **
  (x+1) :-> nxt **
  Sll tail [nxt];

map : (Int -> Int) -> Sll -> Sll;
map f Nil := Nil [Sll];
map f (Cons a as) := Cons (f a) (map f as) [Sll];

-- mapAdd1 : Sll -> Sll;
-- mapAdd1 xs := map (\x. x + 1) xs;

-- %test "mapAdd1" Sll:
--   mapAdd 1 (Cons 10 (Cons 20 (Cons 30 (Nil [Sll]) [Sll]) [Sll]) [Sll]);
